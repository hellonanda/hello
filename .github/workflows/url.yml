name: artifacr url
on: 
 workflow_dispatch: {}
jobs:
 url:
   runs-on: ubuntu-latest
   steps:
     - name: checkout
       uses: actions/checkout@main
     - name: Upload artifact
       uses: actions/upload-artifact@v3
       with:
          name: my-artifact
          path: .
     - name: Generate artifact URL
       run: |
        gh api repos/${{ github.repository }}/actions/runs/${{ github.run_id }}/artifacts --paginate \
          --jq '.artifacts[] | "https://github.com/${{ github.repository }}/actions/artifacts/\(.id)/download"' > artifact_links.txt
        cat artifact_links.txt
       env:
        GH_TOKEN: ${{ github.token }}
